(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["audit"],{"45e1":function(t,e,i){"use strict";i("b412")},b412:function(t,e,i){},e024:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-audit"},[e("div",{staticClass:"basic-info"},[e("div",{staticClass:"flex"},[e("div",[t._v("用户名")]),e("div",[t._v(t._s(t.basicInfo.userName))]),e("div",[t._v("用户id")]),e("div",[t._v(t._s(t.basicInfo.id))]),e("div",[t._v("公司网站")]),e("div",[e("a",{attrs:{href:t.basicInfo.companySite}},[t._v(t._s(t.basicInfo.companySite))])])]),e("div",{staticClass:"flex"},[e("div",[t._v("资质")]),e("div",[t._v(t._s(t.basicInfo.qualification))]),e("div",[t._v("一级行业")]),e("div",[t._v(t._s(t.basicInfo.firstIndustry))]),e("div",[t._v("二级行业")]),e("div",[t._v(t._s(t.basicInfo.secondIndustry))])]),e("div",{staticClass:"flex"},[e("div",[t._v("用户类型")]),e("div",[t._v(t._s(t.basicInfo.userType))]),e("div",[t._v("批注")]),e("div",{staticStyle:{"flex-grow":"1"}},[t._v(t._s(t.basicInfo.note))])])]),e("div",{staticClass:"operate-box"},[e("el-button",{attrs:{type:"primary"},on:{click:t.approveClick}},[t._v("通过所选")]),e("el-button",{attrs:{type:"primary"},on:{click:t.refuseClick}},[t._v("拒绝所选")]),e("el-button",{attrs:{type:"primary"},on:{click:t.refuseAccountClick}},[t._v("拒绝账户")]),e("el-button",{attrs:{type:"primary"},on:{click:t.delayClick}},[t._v("搁置")]),e("el-button",{attrs:{type:"primary"},on:{click:t.nextTaskClick}},[t._v("下一个任务")])],1),e("div",{staticClass:"audit-list"},[e("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.auditList,border:""},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"55"}}),e("el-table-column",{attrs:{prop:"title",label:"标题",width:"200"}}),e("el-table-column",{attrs:{prop:"desc",label:"描述",width:"300"}}),e("el-table-column",{attrs:{label:"图片",width:"300"},scopedSlots:t._u([{key:"default",fn:function(i){return t._l(i.row.imgs,(function(t){return e("img",{key:t,attrs:{src:t}})}))}}])}),e("el-table-column",{attrs:{label:"操作",width:"140"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleApprove(i.row)}}},[t._v("通过")]),e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleRefuse(i.row)}}},[t._v("拒绝")])]}}])}),e("el-table-column",{attrs:{label:"落地页",width:"350"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("a",{attrs:{target:"_blank",href:i.row.landing}},[t._v(t._s(i.row.landing))]),e("iframe",{attrs:{src:i.row.landing}}),e("div",{staticClass:"landing-btns"},[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleApprove(i.row)}}},[t._v("通过")]),e("br"),e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleRefuse(i.row)}}},[t._v("拒绝")])],1)]}}])})],1)],1)])},a=[],l={data(){return{basicInfo:{},auditList:[],multipleSelection:[]}},created(){this.getAuditInfo()},methods:{getAuditInfo(){this.$axios({method:"get",url:"/audit/auditList",data:{id:this.$route.query.id}}).then(t=>{this.basicInfo=t.data.basicInfo,this.auditList=t.data.list}).catch(t=>{this.$message({type:"error",message:t.msg||"服务器偷懒了"})})},approveClick(){0===this.multipleSelection.length?this.$alert("请先选择要审核通过的项","",{confirmButtonText:"确定"}):this.$alert("您选择的审核项已经审核通过","",{confirmButtonText:"确定",callback:()=>{this.auditList=this.auditList.filter(t=>!this.multipleSelection.includes(t.id))}})},refuseClick(){if(0===this.multipleSelection.length)this.$alert("请先选择要审核拒绝的项","",{confirmButtonText:"确定"});else{const t=this.multipleSelection.join(",");this.$alert(`您确定要拒绝id为${t}的账户吗`,"",{confirmButtonText:"确定",callback:()=>{this.auditList=this.auditList.filter(t=>!this.multipleSelection.includes(t.id)),this.$message({type:"success",message:"所选审核项拒绝成功!"})}})}},refuseAccountClick(){this.$alert(`您确定拒绝id为${this.basicInfo.id}的账户吗`,"",{confirmButtonText:"确定",callback:()=>{this.$message({type:"success",message:"拒绝成功!"})}})},delayClick(){this.$alert("您确定要搁置所选项吗","",{confirmButtonText:"确定",callback:()=>{this.$message({type:"success",message:"搁置成功!"}),this.nextTaskClick()}})},nextTaskClick(){this.getAuditInfo()},handleSelectionChange(t){this.multipleSelection=t.map(t=>t.id)},handleApprove(t){this.$alert(`id：${t.id}，标题："${t.title}"的项审核通过`,"审核通过")},handleRefuse(t){this.$alert(`id：${t.id}，标题："${t.title}"的项审核拒绝`,"审核拒绝")}}},n=l,c=(i("45e1"),i("2877")),o=Object(c["a"])(n,s,a,!1,null,"55dfbfc2",null);e["default"]=o.exports}}]);